{"version":3,"sources":["pages/register/style.js","pages/register/index.js"],"names":["Wrapper","styled","div","Box","Header","h1","Input","attrs","props","placeholder","name","Button","button","ErrorInfo","Addition","Register","formik","useFormik","initialValues","username","email","password","validationSchema","Yup","max","min","required","onSubmit","values","axios","method","url","headers","data","JSON","stringify","then","res","token","localStorage","setItem","catch","err","console","log","message","error","handleSubmit","htmlFor","type","getFieldProps","touched","errors","to"],"mappings":"4gEAKO,IAAMA,EAAUC,IAAOC,IAAV,KAQPC,EAAMF,IAAOC,IAAV,KAmBHE,EAASH,IAAOI,GAAV,KAUNC,EAAQL,YAAO,KAAUM,OAAM,SAAAC,GAAK,MAAK,CAClDC,YAAaD,EAAME,QADFT,CAAH,KASLU,EAASV,IAAOW,OAAV,KAmBNC,EAAYZ,IAAOC,IAAV,KAUTY,EAAWb,IAAOC,IAAV,K,mCCyCNa,UA9FE,SAACP,GAEjB,IAAMQ,EAASC,YAAU,CACxBC,cAAe,CACdC,SAAU,GACVC,MAAO,GACPC,SAAU,IAEXC,iBAAkBC,IAAW,CAC5BJ,SAAUI,MACTC,IAAI,GAAI,oEACRC,IAAI,EAAG,oEACPC,SAAS,8CACVN,MAAOG,MACNH,MAAM,8CACNM,SAAS,8CACVL,SAAUE,MACTC,IAAI,GAAI,kCACRC,IAAI,EAAG,kCACPC,SAAS,0CAGXC,SAAU,SAAAC,GACTC,IAAM,CACLC,OAAQ,OAERC,IAAK,cAGLC,QAAS,CAAC,eAAgB,kCAE1BC,KAAMC,KAAKC,UAAUP,KAEnBQ,MACF,SAAAC,GAAO,IAECC,EAASD,EAAIJ,KAAbK,MACPC,aAAaC,QAAQ,QAASF,MAE9BG,OACD,SAAAC,GACCC,QAAQC,IAAIF,GACZG,EAAA,EAAQC,MAAM,uFAAkB,SAOnC,OACA,kBAAC9C,EAAD,KACC,kBAACG,EAAD,KACC,kBAACC,EAAD,qBACA,0BAAMuB,SAAUX,EAAO+B,cACtB,2BAAOC,QAAQ,YAAf,sBACA,kBAAC1C,EAAD,eACCI,KAAK,WACLuC,KAAK,QACDjC,EAAOkC,cAAc,cAE1B,kBAACrC,EAAD,KACCG,EAAOmC,QAAQhC,UAAYH,EAAOoC,OAAOjC,SAAW,6BAAMH,EAAOoC,OAAOjC,UAAkB,MAE3F,2BAAO6B,QAAQ,SAAf,gBACA,kBAAC1C,EAAD,eACCI,KAAK,QACLuC,KAAK,SACDjC,EAAOkC,cAAc,WAE1B,kBAACrC,EAAD,KACCG,EAAOmC,QAAQ/B,OAASJ,EAAOoC,OAAOhC,MAAQ,6BAAMJ,EAAOoC,OAAOhC,OAAe,MAElF,2BAAO4B,QAAQ,YAAf,gBACA,kBAAC1C,EAAD,eACCI,KAAK,WACLuC,KAAK,YACDjC,EAAOkC,cAAc,cAE1B,kBAACrC,EAAD,KACCG,EAAOmC,QAAQ9B,UAAYL,EAAOoC,OAAO/B,SAAW,6BAAML,EAAOoC,OAAO/B,UAAkB,MAE3F,6BACA,kBAACV,EAAD,CAAQsC,KAAK,UAAb,iBAED,kBAACnC,EAAD,KACC,2DACA,8BAAM,kBAAC,IAAD,CAAMuC,GAAG,UAAT","file":"static/js/14.0974dd57.chunk.js","sourcesContent":["import styled from 'styled-components';\r\nimport { Input as AntInput } from 'antd';\r\nimport { Button as AntButton } from 'antd';\r\n\r\n//登录界面样式\r\nexport const Wrapper = styled.div`\r\n    height: 100vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background: #f0f2f5;\r\n`;\r\n\r\nexport const Box = styled.div`\r\n    height: 500px;\r\n    position: relative;\r\n    width: 350px;\r\n    background: #fff;\r\n    border-radius: 15px;\r\n    padding: 40px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    label {\r\n        display: block;\r\n        font-size: 15px;\r\n        width: 200px;\r\n        text-align: left;\r\n        margin-bottom: 5px;\r\n    }\r\n`;\r\n\r\nexport const Header = styled.h1`\r\n    width: 200px;\r\n    height: 40px;\r\n    font-size: 25px;\r\n    line-height: 25px;\r\n    font-weight: 450;\r\n    color: #444;\r\n    margin-bottom: 20px;\r\n`\r\n\r\nexport const Input = styled(AntInput).attrs(props => ({\r\n    placeholder: props.name\r\n}))`\r\n    width: 200px;\r\n    height: 40px;\r\n    font-size: 15px;\r\n    transition-duration: 100ms;\r\n`\r\n\r\nexport const Button = styled.button`\r\n    height: 40px;\r\n    width: 200px;\r\n    font-size: 16px;\r\n    border: none;\r\n    background: #1E90FF;\r\n    color: white;\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n    transition: background 50ms ease-in;\r\n    &:hover {\r\n        background: #40a9ff\r\n    }\r\n    &:active {\r\n        background: #096dd9;\r\n    }\r\n    \r\n`\r\n\r\nexport const ErrorInfo = styled.div`\r\n    width: 200px;\r\n    height: 25px;\r\n    div {\r\n        font-size: 13px;\r\n        line-height: 18px;\r\n        color: #DC143C;\r\n    }\r\n`;\r\n\r\nexport const Addition = styled.div`\r\n    width: 200px;\r\n    margin-top: 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    span {\r\n        display: block;\r\n        cursor: pointer;\r\n        font-size: 13px;\r\n    }\r\n`;\r\n","import React, { useState } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport {\r\n\tWrapper,\r\n\tBox,\r\n\tInput,\r\n\tHeader,\r\n\tButton,\r\n\tErrorInfo,\r\n\tAddition\r\n} from './style';\r\nimport { message } from 'antd';\r\nimport axios from 'axios';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\n/* \r\n练习：注册组件\r\n用到的知识：\r\nHook\r\naxios\r\nFormik + Yup\r\nstyled-components\r\nAntd\r\nRouter跳转\r\n */\r\n\r\nconst Register = (props) => {\r\n\t\r\n\tconst formik = useFormik({\r\n\t\tinitialValues: {\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tpassword: ''\r\n\t\t},\r\n\t\tvalidationSchema: Yup.object({\r\n\t\t\tusername: Yup.string()\r\n\t\t\t.max(15, \"请输入3~15个字符的用户名\")\r\n\t\t\t.min(3, \"请输入3~15个字符的用户名\")\r\n\t\t\t.required(\"用户名不得为空\"),\r\n\t\t\temail: Yup.string()\r\n\t\t\t.email(\"无效的邮箱名称\")\r\n\t\t\t.required(\"用户名不得为空\"),\r\n\t\t\tpassword: Yup.string()\r\n\t\t\t.max(15, \"密码太长！\")\r\n\t\t\t.min(3, \"密码太短！\")\r\n\t\t\t.required(\"密码不得为空\")\r\n\t\t}),\r\n\r\n\t\tonSubmit: values => {\r\n\t\t\taxios({\r\n\t\t\t\tmethod: 'post',\r\n\t\r\n\t\t\t\turl: '/user/12345',\r\n\t\r\n\t\t\t\t//JSON\r\n\t\t\t\theaders: {'Content-Type': 'application/json;charset=utf-8'},\r\n\t\r\n\t\t\t\tdata: JSON.stringify(values)\r\n\r\n\t\t\t}).then(\r\n\t\t\t\tres => {\r\n\t\t\t\t\t//Token处理\r\n\t\t\t\t\tconst {token} = res.data;\r\n\t\t\t\t\tlocalStorage.setItem('Token', token); \r\n\t\t\t\t}\r\n\t\t\t).catch(\r\n\t\t\t\terr => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tmessage.error(\"登录失败，请检查信息是否正确\", 1, )\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t})\r\n\r\n  return (\r\n\t\t<Wrapper>\r\n\t\t\t<Box>\r\n\t\t\t\t<Header>注册</Header>\r\n\t\t\t\t<form onSubmit={formik.handleSubmit}>\r\n\t\t\t\t\t<label htmlFor=\"username\">用户名</label>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t{...formik.getFieldProps('username')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorInfo>\r\n\t\t\t\t\t{formik.touched.username && formik.errors.username ? <div>{formik.errors.username}</div> : null }\r\n\t\t\t\t\t</ErrorInfo>\r\n\t\t\t\t\t<label htmlFor=\"email\">邮箱</label>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t{...formik.getFieldProps('email')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorInfo>\r\n\t\t\t\t\t{formik.touched.email && formik.errors.email ? <div>{formik.errors.email}</div> : null }\r\n\t\t\t\t\t</ErrorInfo>\r\n\t\t\t\t\t<label htmlFor=\"password\">密码</label>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t{...formik.getFieldProps('password')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorInfo>\r\n\t\t\t\t\t{formik.touched.password && formik.errors.password ? <div>{formik.errors.password}</div> : null }\r\n\t\t\t\t\t</ErrorInfo>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Button type=\"suBmit\">提交</Button>\r\n\t\t\t\t</form>\r\n\t\t\t\t<Addition>\r\n\t\t\t\t\t<span>已有账号?</span>\r\n\t\t\t\t\t<span><Link to=\"/login\">立即登录</Link></span>\r\n\t\t\t\t</Addition>\r\n\t\t\t</Box>\r\n\t\t</Wrapper>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default Register;\r\n"],"sourceRoot":""}